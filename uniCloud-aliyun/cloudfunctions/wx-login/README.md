# 微信小程序登录云函数部署说明

## 配置说明

在使用此云函数之前，您需要进行以下配置：

1. 打开 `index.js` 文件
2. 找到以下配置项：
```javascript
const appid = 'your_appid_here';  // 替换为您的微信小程序 AppID
const secret = 'your_secret_here'; // 替换为您的微信小程序 AppSecret
```

3. 将上述配置项替换为您自己的微信小程序信息：
   - `appid`: 在微信小程序后台的"开发"->"开发设置"中获取
   - `secret`: 在微信小程序后台的"开发"->"开发设置"中获取

## 获取 AppID 和 AppSecret 的步骤

1. 登录[微信公众平台](https://mp.weixin.qq.com/)
2. 进入您的小程序后台
3. 点击左侧菜单"开发"->"开发设置"
4. 在页面中可以看到 AppID(小程序ID)
5. 点击 AppSecret(小程序密钥) 右侧的"重置"按钮可以获取新的 AppSecret

## 注意事项

1. AppSecret 是敏感信息，请妥善保管，不要泄露给他人
2. 建议在正式环境中使用环境变量或配置文件来存储这些敏感信息
3. 如果 AppSecret 泄露，请立即在微信小程序后台重置
4. 确保您的微信小程序已经开通了云开发功能

## 部署步骤

1. 完成上述配置后，在 HBuilderX 中右键点击 `wx-login` 文件夹
2. 选择"上传部署"
3. 等待部署完成

## 验证部署

部署完成后，您可以通过以下方式验证是否配置成功：

1. 在小程序中尝试登录
2. 查看云函数日志，确认是否有错误信息
3. 检查数据库中是否成功创建了用户记录

## 常见问题

1. 如果登录失败，请检查：
   - AppID 和 AppSecret 是否正确
   - 微信小程序是否已开通云开发
   - 云函数是否已正确部署

2. 如果遇到权限问题，请检查：
   - 微信小程序后台的服务器域名配置
   - 云函数的访问权限设置

## 技术支持

如果您在部署过程中遇到任何问题，请：

1. 检查微信小程序开发文档
2. 查看 uniCloud 官方文档
3. 在项目 Issues 中提交问题

## 安全建议

1. 定期更换 AppSecret
2. 使用环境变量管理敏感信息
3. 限制云函数的访问权限
4. 定期检查云函数日志，发现异常及时处理 