{"version":3,"file":"index.js","sources":["store/index.js"],"sourcesContent":["// #ifndef VUE3\nimport Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nVue.use(Vuex)\r\nconst store = new Vuex.Store({\n// #endif\n\n// #ifdef VUE3\nimport { createStore } from 'vuex'\r\nconst store = createStore({\n// #endif\r\n\tstate: {\r\n\t\thasLogin: false,\r\n\t\tisUniverifyLogin: false,\r\n\t\tloginProvider: \"\",\r\n\t\topenid: null,\r\n\t\ttestvuex: false,\r\n\t\tcolorIndex: 0,\r\n\t\tcolorList: ['#FF0000', '#00FF00', '#0000FF'],\r\n\t\tnoMatchLeftWindow: true,\r\n\t\tactive: 'componentPage',\r\n\t\tleftWinActive: '/pages/component/view/view',\r\n\t\tactiveOpen: '',\r\n\t\tmenu: [],\n\t\tuniverifyErrorMsg: '',\n\t\t// vuex测试例使用\n\t\tusername: \"foo\",\n\t\tsex: \"男\",\n\t\tage: 10\r\n\t},\r\n\tmutations: {\r\n\t\tlogin(state, provider) {\r\n\t\t\tstate.hasLogin = true;\r\n\t\t\tstate.loginProvider = provider;\r\n\t\t},\r\n\t\tlogout(state) {\r\n\t\t\tstate.hasLogin = false\r\n\t\t\tstate.openid = null\r\n\t\t},\r\n\t\tsetOpenid(state, openid) {\r\n\t\t\tstate.openid = openid\r\n\t\t},\r\n\t\tsetTestTrue(state) {\r\n\t\t\tstate.testvuex = true\r\n\t\t},\r\n\t\tsetTestFalse(state) {\r\n\t\t\tstate.testvuex = false\r\n\t\t},\r\n\t\tsetColorIndex(state, index) {\r\n\t\t\tstate.colorIndex = index\r\n\t\t},\r\n\t\tsetMatchLeftWindow(state, matchLeftWindow) {\r\n\t\t\tstate.noMatchLeftWindow = !matchLeftWindow\r\n\t\t},\r\n\t\tsetActive(state, tabPage) {\r\n\t\t\tstate.active = tabPage\r\n\t\t},\r\n\t\tsetLeftWinActive(state, leftWinActive) {\r\n\t\t\tstate.leftWinActive = leftWinActive\r\n\t\t},\r\n\t\tsetActiveOpen(state, activeOpen) {\r\n\t\t\tstate.activeOpen = activeOpen\r\n\t\t},\r\n\t\tsetMenu(state, menu) {\r\n\t\t\tstate.menu = menu\r\n\t\t},\r\n\t\tsetUniverifyLogin(state, payload) {\r\n\t\t\ttypeof payload !== 'boolean' ? payload = !!payload : '';\r\n\t\t\tstate.isUniverifyLogin = payload;\r\n\t\t},\n\t\tsetUniverifyErrorMsg(state,payload = ''){\n\t\t\tstate.univerifyErrorMsg = payload\n\t\t},\n\t\t// vuex测试例使用\n\t\tincrement(state) {\n\t\t  state.age++;\n\t\t},\n\t\tincrementTen(state, payload) {\n\t\t  state.age += payload.amount\n\t\t},\n\t\tresetAge(state){\n\t\t  state.age = 10\n\t\t}\r\n\t},\r\n\tgetters: {\r\n\t\tcurrentColor(state) {\r\n\t\t\treturn state.colorList[state.colorIndex]\r\n\t\t},\n\t\t// vuex测试例使用\n\t\tdoubleAge(state) {\n\t\t  return state.age * 2;\n\t\t}\r\n\t},\r\n\tactions: {\n\t\t// vuex测试例使用\n\t\tincrementAsync(context , payload) {\n\t\t  context.commit('incrementTen',payload)\n\t\t},\r\n\t\t// lazy loading openid\r\n\t\tgetUserOpenId: async function({\r\n\t\t\tcommit,\r\n\t\t\tstate\r\n\t\t}) {\r\n\t\t\treturn await new Promise((resolve, reject) => {\r\n\t\t\t\tif (state.openid) {\r\n\t\t\t\t\tresolve(state.openid)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.login({\r\n\t\t\t\t\t\tsuccess: (data) => {\r\n\t\t\t\t\t\t\tcommit('login')\r\n\t\t\t\t\t\t\tsetTimeout(function() { //模拟异步请求服务器获取 openid\r\n\t\t\t\t\t\t\t\tconst openid = '123456789'\r\n\t\t\t\t\t\t\t\tconsole.log('uni.request mock openid[' + openid + ']');\r\n\t\t\t\t\t\t\t\tcommit('setOpenid', openid)\r\n\t\t\t\t\t\t\t\tresolve(openid)\r\n\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\tconsole.log('uni.login 接口调用失败，将无法正常使用开放接口等服务', err)\r\n\t\t\t\t\t\t\treject(err)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tgetPhoneNumber: function({\r\n\t\t\tcommit\r\n\t\t}, univerifyInfo) {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: 'https://97fca9f2-41f6-449f-a35e-3f135d4c3875.bspapp.com/http/univerify-login',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: univerifyInfo,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconst data = res.data\r\n\t\t\t\t\t\tif (data.success) {\r\n\t\t\t\t\t\t\tresolve(data.phoneNumber)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treject(res)\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\treject(res)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n})\r\n\r\nexport default store\n"],"names":["createStore","uni","res"],"mappings":"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"}