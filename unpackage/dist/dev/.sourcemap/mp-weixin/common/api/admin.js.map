{"version":3,"file":"admin.js","sources":["common/api/admin.js"],"sourcesContent":["/**\r\n * 管理员相关API\r\n */\r\nimport request from './request.js';\r\n\r\n// 检查用户是否为管理员\r\nexport function checkIsAdmin(openid) {\r\n\treturn request.callCloudFunction('admin-service', {\r\n\t\taction: 'checkAdmin',\r\n\t\tparams: {\r\n\t\t\topenid\r\n\t\t}\r\n\t});\r\n}\r\n\r\n// 添加管理员\r\nexport function addAdmin(openid, targetOpenid) {\r\n\treturn request.callCloudFunction('admin-service', {\r\n\t\taction: 'addAdmin',\r\n\t\tparams: {\r\n\t\t\topenid,\r\n\t\t\ttargetOpenid\r\n\t\t}\r\n\t});\r\n}\r\n\r\n// 移除管理员\r\nexport function removeAdmin(openid, targetOpenid) {\r\n\treturn request.callCloudFunction('admin-service', {\r\n\t\taction: 'removeAdmin',\r\n\t\tparams: {\r\n\t\t\topenid,\r\n\t\t\ttargetOpenid\r\n\t\t}\r\n\t});\r\n}\r\n\r\n// 获取管理员列表\r\nexport function listAdmins(openid) {\r\n\treturn request.callCloudFunction('admin-service', {\r\n\t\taction: 'listAdmins',\r\n\t\tparams: {\r\n\t\t\topenid\r\n\t\t}\r\n\t});\r\n}\r\n\r\n// 获取统计信息\r\nexport function getStatistics(openid) {\r\n\treturn request.callCloudFunction('admin-service', {\r\n\t\taction: 'statistics',\r\n\t\tparams: {\r\n\t\t\topenid\r\n\t\t}\r\n\t});\r\n}\r\n\r\n// 导出所有数据\r\nexport function exportAllData(openid, dateRange, format = 'xlsx') {\r\n\treturn request.callCloudFunction('admin-service', {\r\n\t\taction: 'export',\r\n\t\tparams: {\r\n\t\t\topenid,\r\n\t\t\tdateRange,\r\n\t\t\tformat\r\n\t\t}\r\n\t});\r\n}\r\n\r\nexport default {\r\n\tcheckIsAdmin,\r\n\taddAdmin,\r\n\tremoveAdmin,\r\n\tlistAdmins,\r\n\tgetStatistics,\r\n\texportAllData\r\n}; "],"names":["request"],"mappings":";;AAgBO,SAAS,SAAS,QAAQ,cAAc;AAC9C,SAAOA,mBAAO,QAAC,kBAAkB,iBAAiB;AAAA,IACjD,QAAQ;AAAA,IACR,QAAQ;AAAA,MACP;AAAA,MACA;AAAA,IACA;AAAA,EACH,CAAE;AACF;AAwBO,SAAS,cAAc,QAAQ;AACrC,SAAOA,mBAAO,QAAC,kBAAkB,iBAAiB;AAAA,IACjD,QAAQ;AAAA,IACR,QAAQ;AAAA,MACP;AAAA,IACA;AAAA,EACH,CAAE;AACF;AAGO,SAAS,cAAc,QAAQ,WAAW,SAAS,QAAQ;AACjE,SAAOA,mBAAO,QAAC,kBAAkB,iBAAiB;AAAA,IACjD,QAAQ;AAAA,IACR,QAAQ;AAAA,MACP;AAAA,MACA;AAAA,MACA;AAAA,IACA;AAAA,EACH,CAAE;AACF;;;;"}