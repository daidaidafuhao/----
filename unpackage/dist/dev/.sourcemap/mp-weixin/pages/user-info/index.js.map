{"version":3,"file":"index.js","sources":["pages/user-info/index.vue","../../HBuilderX.4.64.2025042916/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci1pbmZvL2luZGV4LnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<view v-if=\"!isPageVisible\" class=\"disabled-message\">\n\t\t\t<text class=\"disabled-text\">个人信息功能已废弃</text>\n\t\t</view>\n\t\t<view v-else>\n\t\t\t<view class=\"header\">\n\t\t\t\t<text class=\"title\">个人信息</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 未登录时显示登录界面 -->\n\t\t\t<view v-if=\"!isLoggedIn\" class=\"login-container\">\n\t\t\t\t<view class=\"avatar-placeholder\">\n\t\t\t\t\t<image src=\"/static/icons/user-avatar-placeholder.png\" mode=\"aspectFill\"></image>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"login-text\">未登录，请先登录</view>\n\t\t\t\t<button type=\"primary\" class=\"login-button\" @click=\"handleWechatLogin\">微信登录</button>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 已登录时显示用户信息 -->\n\t\t\t<view v-else>\n\t\t\t\t<!-- 用户基本信息 -->\n\t\t\t\t<view class=\"user-info-card\">\n\t\t\t\t\t<view class=\"user-avatar\">\n\t\t\t\t\t\t<image :src=\"userInfo.avatarUrl || '/static/icons/user-avatar-placeholder.png'\" mode=\"aspectFill\"></image>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"user-basic-info\">\n\t\t\t\t\t\t<view class=\"user-nickname\">{{userInfo.nickName || '微信用户'}}</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- 个人信息表单 -->\n\t\t\t\t<view class=\"form-container\">\n\t\t\t\t\t<uni-forms :modelValue=\"formData\" ref=\"form\">\n\t\t\t\t\t\t<uni-forms-item label=\"姓名\" required>\n\t\t\t\t\t\t\t<uni-easyinput type=\"text\" v-model=\"formData.name\" placeholder=\"请输入姓名\" />\n\t\t\t\t\t\t</uni-forms-item>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<uni-forms-item label=\"联系方式\">\n\t\t\t\t\t\t\t<uni-easyinput type=\"text\" v-model=\"formData.contactMethod\" placeholder=\"请输入联系方式\" />\n\t\t\t\t\t\t</uni-forms-item>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<uni-forms-item label=\"联系人\">\n\t\t\t\t\t\t\t<uni-easyinput type=\"text\" v-model=\"formData.contactPerson\" placeholder=\"请输入联系人姓名\" />\n\t\t\t\t\t\t</uni-forms-item>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<uni-forms-item label=\"备注\">\n\t\t\t\t\t\t\t<uni-easyinput type=\"textarea\" v-model=\"formData.notes\" placeholder=\"请输入备注信息\" />\n\t\t\t\t\t\t</uni-forms-item>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<uni-forms-item label=\"性别\" required>\n\t\t\t\t\t\t\t<uni-data-checkbox v-model=\"formData.gender\" :localdata=\"genderOptions\" />\n\t\t\t\t\t\t</uni-forms-item>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<uni-forms-item label=\"电话\">\n\t\t\t\t\t\t\t<uni-easyinput type=\"number\" v-model=\"formData.phone\" placeholder=\"请输入电话号码\" />\n\t\t\t\t\t\t</uni-forms-item>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<uni-forms-item label=\"身高(cm)\">\n\t\t\t\t\t\t\t<uni-easyinput type=\"number\" v-model=\"formData.height\" placeholder=\"请输入身高(cm)\" />\n\t\t\t\t\t\t</uni-forms-item>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<uni-forms-item label=\"体重(kg)\">\n\t\t\t\t\t\t\t<uni-easyinput type=\"digit\" v-model=\"formData.weight\" placeholder=\"请输入体重(kg)\" @input=\"calculateBMI\" />\n\t\t\t\t\t\t</uni-forms-item>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<uni-forms-item label=\"BMI\">\n\t\t\t\t\t\t\t<uni-easyinput type=\"text\" v-model=\"formData.bmi\" disabled />\n\t\t\t\t\t\t</uni-forms-item>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<uni-forms-item label=\"血压(mmHg)\">\n\t\t\t\t\t\t\t<uni-easyinput type=\"text\" v-model=\"formData.bloodPressure\" placeholder=\"例如: 120/80\" />\n\t\t\t\t\t\t</uni-forms-item>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<uni-forms-item label=\"基础疾病\">\n\t\t\t\t\t\t\t<uni-easyinput type=\"textarea\" v-model=\"formData.basicDisease\" placeholder=\"请输入基础疾病信息\" />\n\t\t\t\t\t\t</uni-forms-item>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<view class=\"form-button\">\n\t\t\t\t\t\t\t<button type=\"primary\" @click=\"submitForm\">保存</button>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</uni-forms>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport { getWechatLoginState, wechatLogin, isWechatMP } from '../../common/api/wechat.js';\n\timport { checkLoginAndRedirect } from '../../common/api/login.js';\n\t\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tisPageVisible: false, // 控制页面显示/隐藏\n\t\t\t\tisLoggedIn: false,\n\t\t\t\tuserInfo: null,\n\t\t\t\topenid: '',\n\t\t\t\tformData: {\n\t\t\t\t\tname: '',\n\t\t\t\t\tcontactMethod: '',\n\t\t\t\t\tcontactPerson: '',\n\t\t\t\t\tnotes: '',\n\t\t\t\t\tgender: '男',\n\t\t\t\t\tphone: '',\n\t\t\t\t\theight: '',\n\t\t\t\t\tweight: '',\n\t\t\t\t\tbmi: '',\n\t\t\t\t\tbloodPressure: '',\n\t\t\t\t\tbasicDisease: ''\n\t\t\t\t},\n\t\t\t\tgenderOptions: [\n\t\t\t\t\t{text: '男', value: '男'},\n\t\t\t\t\t{text: '女', value: '女'}\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\t\t\t// 获取页面配置\n\t\t\tthis.getPageConfig();\n\t\t\t\n\t\t\t// 检查登录状态，如果未登录则重定向到登录页面\n\t\t\tif (!checkLoginAndRedirect()) {\n\t\t\t\treturn; // 用户未登录，已重定向到登录页面\n\t\t\t}\n\t\t\t\n\t\t\t// 用户已登录，初始化页面数据\n\t\t\tthis.initPageData();\n\t\t},\n\t\tonShow() {\n\t\t\t// 获取页面配置\n\t\t\tthis.getPageConfig();\n\t\t\t\n\t\t\t// 每次页面显示时检查登录状态\n\t\t\tif (!checkLoginAndRedirect()) {\n\t\t\t\treturn; // 用户未登录，已重定向到登录页面\n\t\t\t}\n\t\t\t\n\t\t\t// 用户已登录，刷新页面数据\n\t\t\tthis.initPageData();\n\t\t},\n\t\tmethods: {\n\t\t\t// 获取页面配置\n\t\t\tasync getPageConfig() {\n\t\t\t\ttry {\n\t\t\t\t\tconst result = await uniCloud.callFunction({\n\t\t\t\t\t\tname: 'page-config',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\taction: 'getConfig',\n\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\tpageId: 'user-info'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(result.result.code === 0) {\n\t\t\t\t\t\tconsole.log( \"页面配置\",result.result.data.isVisible);\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.isPageVisible = result.result.data.isVisible;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error('获取页面配置失败:', result.result.message);\n\t\t\t\t\t\tthis.isPageVisible = false; // 默认隐藏\n\t\t\t\t\t}\n\t\t\t\t} catch(error) {\n\t\t\t\t\tconsole.error('获取页面配置出错:', error);\n\t\t\t\t\tthis.isPageVisible = false; // 默认隐藏\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 初始化页面数据\n\t\t\tinitPageData() {\n\t\t\t\tconst loginState = getWechatLoginState();\n\t\t\t\tthis.isLoggedIn = loginState.isLoggedIn;\n\t\t\t\tthis.openid = loginState.openid;\n\t\t\t\tthis.userInfo = loginState.userInfo;\n\t\t\t\t\n\t\t\t\t// 获取用户详细信息\n\t\t\t\tthis.getUserInfo();\n\t\t\t},\n\t\t\t\n\t\t\t// 微信登录处理\n\t\t\thandleWechatLogin() {\n\t\t\t\ttry {\n\t\t\t\t\tif(!isWechatMP()) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '仅支持微信小程序登录',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\ttitle: '登录中...'\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\twechatLogin()\n\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\tthis.isLoggedIn = true;\n\t\t\t\t\t\t\tthis.openid = res.openid;\n\t\t\t\t\t\t\tthis.userInfo = res.userInfo;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// 获取用户详细信息\n\t\t\t\t\t\t\tthis.getUserInfo();\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '登录成功',\n\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\tconsole.error('登录失败', err);\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '登录失败，请重试',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t} catch (error) {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tconsole.error('登录过程出错:', error);\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '登录出错，请重试',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 获取用户详细信息\n\t\t\tgetUserInfo() {\n\t\t\t\tif(!this.openid) return;\n\t\t\t\t\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '加载中...'\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t// 调用云函数获取用户信息\n\t\t\t\tuniCloud.callFunction({\n\t\t\t\t\tname: 'user-service',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\taction: 'getUserByOpenid',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\topenid: this.openid\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tif(res.result.code === 0 && res.result.data) {\n\t\t\t\t\t\t\t// 填充表单数据\n\t\t\t\t\t\t\tconst userData = res.result.data;\n\t\t\t\t\t\t\tthis.formData = {\n\t\t\t\t\t\t\t\tname: userData.name || '',\n\t\t\t\t\t\t\t\tcontactMethod: userData.contactMethod || '',\n\t\t\t\t\t\t\t\tcontactPerson: userData.contactPerson || '',\n\t\t\t\t\t\t\t\tnotes: userData.notes || '',\n\t\t\t\t\t\t\t\tgender: userData.gender || '男',\n\t\t\t\t\t\t\t\tphone: userData.phone || '',\n\t\t\t\t\t\t\t\theight: userData.height ? String(userData.height) : '',\n\t\t\t\t\t\t\t\tweight: userData.weight ? String(userData.weight) : '',\n\t\t\t\t\t\t\t\tbmi: userData.bmi || '',\n\t\t\t\t\t\t\t\tbloodPressure: userData.bloodPressure || '',\n\t\t\t\t\t\t\t\tbasicDisease: userData.basicDisease || ''\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// 如果有身高和体重但没有BMI，计算BMI\n\t\t\t\t\t\t\tif (this.formData.height && this.formData.weight && !this.formData.bmi) {\n\t\t\t\t\t\t\t\tthis.calculateBMI();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// 使用微信昵称作为默认名称\n\t\t\t\t\t\t\tif(this.userInfo && this.userInfo.nickName) {\n\t\t\t\t\t\t\t\tthis.formData.name = this.userInfo.nickName;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// 使用微信性别作为默认性别\n\t\t\t\t\t\t\tif(this.userInfo && this.userInfo.gender !== undefined) {\n\t\t\t\t\t\t\t\tthis.formData.gender = this.userInfo.gender === 1 ? '男' : '女';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tconsole.error('获取用户信息失败', err);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 计算BMI\n\t\t\tcalculateBMI() {\n\t\t\t\tconst height = parseFloat(this.formData.height);\n\t\t\t\tconst weight = parseFloat(this.formData.weight);\n\t\t\t\t\n\t\t\t\tif (height && weight && height > 0) {\n\t\t\t\t\t// BMI = 体重(kg) / (身高(m) * 身高(m))\n\t\t\t\t\tconst heightInMeters = height / 100;\n\t\t\t\t\tconst bmi = weight / (heightInMeters * heightInMeters);\n\t\t\t\t\tthis.formData.bmi = bmi.toFixed(2);\n\t\t\t\t} else {\n\t\t\t\t\tthis.formData.bmi = '';\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 提交表单\n\t\t\tsubmitForm() {\n\t\t\t\tthis.$refs.form.validate().then(res => {\n\t\t\t\t\tif (res) {\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\ttitle: '保存中...'\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 先计算BMI确保最新值\n\t\t\t\t\t\tif (this.formData.height && this.formData.weight) {\n\t\t\t\t\t\t\tthis.calculateBMI();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// 调用云函数保存用户信息\n\t\t\t\t\t\tuniCloud.callFunction({\n\t\t\t\t\t\t\tname: 'user-service',\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\taction: 'updateUserInfo',\n\t\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\t\topenid: this.openid,\n\t\t\t\t\t\t\t\t\tname: this.formData.name,\n\t\t\t\t\t\t\t\t\tcontactMethod: this.formData.contactMethod,\n\t\t\t\t\t\t\t\t\tcontactPerson: this.formData.contactPerson,\n\t\t\t\t\t\t\t\t\tnotes: this.formData.notes,\n\t\t\t\t\t\t\t\t\tgender: this.formData.gender,\n\t\t\t\t\t\t\t\t\tphone: this.formData.phone,\n\t\t\t\t\t\t\t\t\theight: this.formData.height ? parseFloat(this.formData.height) : null,\n\t\t\t\t\t\t\t\t\tweight: this.formData.weight ? parseFloat(this.formData.weight) : null,\n\t\t\t\t\t\t\t\t\tbmi: this.formData.bmi,\n\t\t\t\t\t\t\t\t\tbloodPressure: this.formData.bloodPressure,\n\t\t\t\t\t\t\t\t\tbasicDisease: this.formData.basicDisease\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\tif(res.result.code === 0) {\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: '保存成功',\n\t\t\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: res.result.message || '保存失败',\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\tconsole.error('保存用户信息失败', err);\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: '保存失败，请重试',\n\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t.container {\n\t\tpadding: 20px;\n\t}\n\t\n\t.disabled-message {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\theight: 100vh;\n\t\tbackground-color: #f5f5f5;\n\t}\n\t\n\t.disabled-text {\n\t\tfont-size: 18px;\n\t\tcolor: #999;\n\t\ttext-align: center;\n\t}\n\t\n\t.header {\n\t\tmargin-bottom: 30px;\n\t}\n\t\n\t.title {\n\t\tfont-size: 24px;\n\t\tfont-weight: bold;\n\t\tcolor: #4095E5;\n\t}\n\t\n\t.login-container {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tbackground-color: #fff;\n\t\tborder-radius: 10px;\n\t\tpadding: 40px 15px;\n\t\tbox-shadow: 0 2px 10px rgba(0,0,0,0.05);\n\t}\n\t\n\t.avatar-placeholder {\n\t\twidth: 100px;\n\t\theight: 100px;\n\t\tborder-radius: 50px;\n\t\toverflow: hidden;\n\t\tmargin-bottom: 20px;\n\t}\n\t\n\t.avatar-placeholder image {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\t\n\t.login-text {\n\t\tfont-size: 16px;\n\t\tcolor: #666;\n\t\tmargin-bottom: 30px;\n\t}\n\t\n\t.login-button {\n\t\twidth: 80%;\n\t}\n\t\n\t.user-info-card {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tbackground-color: #fff;\n\t\tborder-radius: 10px;\n\t\tpadding: 20px;\n\t\tmargin-bottom: 20px;\n\t\tbox-shadow: 0 2px 10px rgba(0,0,0,0.05);\n\t}\n\t\n\t.user-avatar {\n\t\twidth: 80px;\n\t\theight: 80px;\n\t\tborder-radius: 40px;\n\t\toverflow: hidden;\n\t\tmargin-right: 20px;\n\t}\n\t\n\t.user-avatar image {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\t\n\t.user-basic-info {\n\t\tflex: 1;\n\t}\n\t\n\t.user-nickname {\n\t\tfont-size: 18px;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t}\n\t\n\t.form-container {\n\t\tbackground-color: #fff;\n\t\tborder-radius: 10px;\n\t\tpadding: 15px;\n\t\tbox-shadow: 0 2px 10px rgba(0,0,0,0.05);\n\t}\n\t\n\t.form-button {\n\t\tmargin-top: 30px;\n\t}\n</style> ","import MiniProgramPage from 'D:/pfh/git/----/pages/user-info/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["checkLoginAndRedirect","uniCloud","uni","getWechatLoginState","isWechatMP","wechatLogin","res"],"mappings":"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"}