{"version":3,"file":"login.js","sources":["pages/API/login/login.vue","../../HBuilderX.4.64.2025042916/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvQVBJL2xvZ2luL2xvZ2luLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view>\r\n\t\t<page-head :title=\"title\"></page-head>\r\n\t\t<view class=\"uni-padding-wrap\">\r\n\t\t\t<view style=\"background:#FFF; padding:40rpx;\">\r\n\t\t\t\t<block v-if=\"hasLogin === true\">\r\n\t\t\t\t\t<view class=\"uni-h3 uni-center uni-common-mt\">已登录\r\n\t\t\t\t\t\t<text v-if=\"isUniverifyLogin\" style=\"font-size: 0.8em;\">\r\n\t\t\t\t\t\t\t<i v-if=\"!phoneNumber.length\" class=\"uni-icon_toast uni-loading\"></i>\r\n\t\t\t\t\t\t\t<i v-else>（{{phoneNumber}}）</i>\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"uni-hello-text uni-center\">\r\n\t\t\t\t\t\t<text>每个账号仅需登录 1 次，\\n后续每次进入页面即可自动拉取用户信息。</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t\t<block v-if=\"hasLogin === false\">\r\n\t\t\t\t\t<view class=\"uni-h3 uni-center uni-common-mt\">未登录</view>\r\n\t\t\t\t\t<view class=\"uni-hello-text uni-center\">\r\n\t\t\t\t\t\t请点击按钮登录\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"uni-btn-v uni- uni-common-mt\">\r\n\t\t\t\t<!-- #ifdef MP-TOUTIAO  -->\r\n\t\t\t\t<button type=\"primary\" class=\"page-body-button\" v-for=\"(value,key) in providerList\" @click=\"tologin(value)\" :key=\"key\">\r\n\t\t\t\t\t登录\r\n\t\t\t\t</button>\r\n\t\t\t\t<!-- #endif -->\r\n\t\t\t\t<!-- #ifndef MP-TOUTIAO -->\r\n\t\t\t\t<button type=\"primary\" class=\"page-body-button\" v-for=\"(value,key) in providerList\" @click=\"tologin(value)\"\r\n\t\t\t\t :loading=\"value.id === 'univerify' ? univerifyBtnLoading : false\" :key=\"key\">{{value.name}}</button>\r\n\t\t\t\t<!-- #endif -->\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n<script>\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapMutations,\r\n\t\tmapActions\r\n\t} from 'vuex'\r\n\tconst univerifyInfoKey = 'univerifyInfo';\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttitle: 'login',\r\n\t\t\t\tproviderList: [],\r\n\t\t\t\tphoneNumber: '',\r\n\t\t\t\tuniverifyBtnLoading: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['hasLogin', 'isUniverifyLogin', 'univerifyErrorMsg'])\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tuni.getProvider({\r\n\t\t\t\tservice: 'oauth',\r\n\t\t\t\tsuccess: (result) => {\r\n\t\t\t\t\tthis.providerList = result.provider.map((value) => {\r\n\t\t\t\t\t\tlet providerName = '';\r\n\t\t\t\t\t\tswitch (value) {\r\n\t\t\t\t\t\t\tcase 'weixin':\r\n\t\t\t\t\t\t\t\tproviderName = '微信登录'\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'qq':\r\n\t\t\t\t\t\t\t\tproviderName = 'QQ登录'\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'sinaweibo':\r\n\t\t\t\t\t\t\t\tproviderName = '新浪微博登录'\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'xiaomi':\r\n\t\t\t\t\t\t\t\tproviderName = '小米登录'\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'alipay':\r\n\t\t\t\t\t\t\t\tproviderName = '支付宝登录'\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'baidu':\r\n\t\t\t\t\t\t\t\tproviderName = '百度登录'\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'jd':\r\n\t\t\t\t\t\t\t  providerName = '京东登录'\r\n\t\t\t\t\t\t\t  break;\r\n\t\t\t\t\t\t\tcase 'toutiao':\r\n\t\t\t\t\t\t\t\tproviderName = '头条登录'\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'apple':\r\n\t\t\t\t\t\t\t\tproviderName = '苹果登录'\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'univerify':\r\n\t\t\t\t\t\t\t\tproviderName = '一键登录'\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tname: providerName,\r\n\t\t\t\t\t\t\tid: value\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t},\r\n\t\t\t\tfail: (error) => {\r\n\t\t\t\t\tconsole.log('获取登录通道失败', error);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (this.hasLogin && this.isUniverifyLogin) {\r\n\t\t\t\tthis.getPhoneNumber(uni.getStorageSync(univerifyInfoKey)).then((phoneNumber) => {\r\n\t\t\t\t\tthis.phoneNumber = phoneNumber\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations(['login', 'setUniverifyLogin']),\r\n\t\t\t...mapActions(['getPhoneNumber']),\r\n\t\t\tToast(data, duration = 1000) {\r\n\t\t\t\tuni.showToast(Object.assign({}, data, {\r\n\t\t\t\t\tduration\r\n\t\t\t\t}))\r\n\t\t\t},\r\n\t\t\ttologin(provider) {\r\n\t\t\t\tif (provider.id === 'univerify') {\r\n\t\t\t\t\tthis.univerifyBtnLoading = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 一键登录已在APP onLaunch的时候进行了预登陆，可以显著提高登录速度。登录成功后，预登陆状态会重置\r\n\t\t\t\tuni.login({\r\n\t\t\t\t\tprovider: provider.id,\r\n\t\t\t\t\t// #ifdef MP-ALIPAY\r\n\t\t\t\t\tscopes: 'auth_user', //支付宝小程序需设置授权类型\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\t\tconsole.log('login success:', res);\r\n\t\t\t\t\t\tthis.Toast({\r\n\t\t\t\t\t\t\ttitle: '登录成功'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// 更新保存在 store 中的登录状态\r\n\t\t\t\t\t\tthis.login(provider.id);\r\n\r\n\t\t\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\t\tthis.setUniverifyLogin(provider.id === 'univerify')\r\n\t\t\t\t\t\tswitch (provider.id) {\r\n\t\t\t\t\t\t\tcase 'univerify':\r\n\t\t\t\t\t\t\t\tthis.loginByUniverify(provider.id, res)\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'apple':\r\n\t\t\t\t\t\t\t\tthis.loginByApple(provider.id, res)\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// #endif\r\n\r\n\t\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\t\tconsole.warn('如需获取openid请参考uni-id: https://uniapp.dcloud.net.cn/uniCloud/uni-id')\r\n\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\turl: 'https://97fca9f2-41f6-449f-a35e-3f135d4c3875.bspapp.com/http/user-center',\r\n\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\taction: 'loginByWeixin',\r\n\t\t\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\t\t\tcode: res.code,\r\n\t\t\t\t\t\t\t\t\tplatform: 'mp-weixin'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t\t\tif (res.data.code !== 0) {\r\n\t\t\t\t\t\t\t\t\tconsole.log('获取openid失败：', res.data.errMsg);\r\n\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '登录失败',\r\n\t\t\t\t\t\t\t\t\t\tcontent: '获取用户信息失败，请稍后再试',\r\n\t\t\t\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t// 存储openid和用户信息\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('openid', res.data.openid);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t// 获取用户信息\r\n\t\t\t\t\t\t\t\tuni.getUserProfile({\r\n\t\t\t\t\t\t\t\t\tdesc: '用于完善会员资料',\r\n\t\t\t\t\t\t\t\t\tsuccess: (userInfo) => {\r\n\t\t\t\t\t\t\t\t\t\t// 存储用户信息\r\n\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('userInfo', userInfo.userInfo);\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t// 保存用户信息到数据库\r\n\t\t\t\t\t\t\t\t\t\tthis.saveUserInfo(res.data.openid, userInfo.userInfo);\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t// 登录成功后返回上一页面\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t\t\t\t\t\t\t}, 1500);\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log('获取用户信息失败', err);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\t\tconsole.log('获取openid失败：', err);\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\ttitle: '登录失败',\r\n\t\t\t\t\t\t\t\t\tcontent: '网络请求失败，请检查网络连接',\r\n\t\t\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tconsole.log('login fail:', err);\r\n\r\n\t\t\t\t\t\t// 一键登录点击其他登录方式\r\n\t\t\t\t\t\tif (err.code == '30002') {\r\n\t\t\t\t\t\t\tuni.closeAuthView();\r\n\t\t\t\t\t\t\tthis.Toast({\r\n\t\t\t\t\t\t\t\ttitle: '其他登录方式'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// 未开通\r\n\t\t\t\t\t\tif (err.code == 1000) {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '登录失败',\r\n\t\t\t\t\t\t\t\tcontent: `${err.errMsg}\\n，错误码：${err.code}`,\r\n\t\t\t\t\t\t\t\tconfirmText: '开通指南',\r\n\t\t\t\t\t\t\t\tcancelText: '确定',\r\n\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tplus.runtime.openWeb('https://ask.dcloud.net.cn/article/37965')\r\n\t\t\t\t\t\t\t\t\t\t}, 500)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// 一键登录预登陆失败\r\n\t\t\t\t\t\tif (err.code == '30005') {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\ttitle: '预登录失败',\r\n\t\t\t\t\t\t\t\tcontent: this.univerifyErrorMsg || err.errMsg\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// 一键登录用户关闭验证界面\r\n\t\t\t\t\t\tif (err.code != '30003') {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\ttitle: '登录失败',\r\n\t\t\t\t\t\t\t\tcontent: JSON.stringify(err)\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\tthis.univerifyBtnLoading = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tloginByUniverify(provider, res) {\r\n\t\t\t\tthis.setUniverifyLogin(true);\r\n\t\t\t\tuni.closeAuthView();\r\n\r\n\t\t\t\tconst univerifyInfo = {\r\n\t\t\t\t\tprovider,\r\n\t\t\t\t\t...res.authResult,\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.getPhoneNumber(univerifyInfo).then((phoneNumber) => {\r\n\t\t\t\t\tthis.phoneNumber = phoneNumber;\r\n\t\t\t\t\tuni.setStorageSync(univerifyInfoKey, univerifyInfo)\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\ttitle: '手机号获取失败',\r\n\t\t\t\t\t\tcontent: `${err.errMsg}\\n，错误码：${err.code}`\r\n\t\t\t\t\t})\r\n\t\t\t\t\tconsole.error(res);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync loginByApple(provider, res) {\r\n\t\t\t\t// 获取用户信息\r\n\t\t\t\tlet getUserInfoErr, result\r\n\t\t\t\t// #ifndef VUE3\r\n\t\t\t\t[getUserInfoErr, result] = await uni.getUserInfo({\r\n\t\t\t\t\tprovider\r\n\t\t\t\t});\r\n\t\t\t\t// #endif\r\n\t\t\t\t\r\n\t\t\t\t// #ifdef VUE3\r\n\t\t\t\ttry {\r\n\t\t\t\t\tresult = await uni.getUserInfo({\r\n\t\t\t\t\t\tprovider\r\n\t\t\t\t\t});\r\n\t\t\t\t} catch(e) {\r\n\t\t\t\t\tgetUserInfoErr = e\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t\t\r\n\t\t\t\tif (getUserInfoErr) {\r\n\t\t\t\t\tlet content = getUserInfoErr.errMsg;\r\n\t\t\t\t\tif (~content.indexOf('uni.login')) {\r\n\t\t\t\t\t\tcontent = '请在登录页面完成登录操作';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '获取用户信息失败',\r\n\t\t\t\t\t\tcontent: '错误原因' + content,\r\n\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t// uni-id 苹果登录\r\n\t\t\t\tconsole.warn('此处使用uni-id处理苹果登录，详情参考: https://uniapp.dcloud.net.cn/uniCloud/uni-id')\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: 'https://97fca9f2-41f6-449f-a35e-3f135d4c3875.bspapp.com/http/user-center',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\taction: 'loginByApple',\r\n\t\t\t\t\t\tparams: result.userInfo\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log('uniId login success', res);\r\n\t\t\t\t\t\tif(res.data.code !== 0){\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\tcontent: `苹果登录失败: ${JSON.stringify(res.data.msg)}`,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.setStorageSync('openid', res.data.openid)\r\n\t\t\t\t\t\t\tuni.setStorageSync('apple_nickname', res.data.userInfo.nickname)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (e) => {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tcontent: `苹果登录失败: ${JSON.stringify(e)}`,\r\n\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 添加保存用户信息的方法\r\n\t\t\tsaveUserInfo(openid, userInfo) {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '保存用户信息'\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t// 调用云函数保存用户信息\r\n\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t\tname: 'user-service',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\taction: 'saveWxUserInfo',\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\topenid: openid,\r\n\t\t\t\t\t\t\tnickName: userInfo.nickName,\r\n\t\t\t\t\t\t\tavatarUrl: userInfo.avatarUrl,\r\n\t\t\t\t\t\t\tgender: userInfo.gender,\r\n\t\t\t\t\t\t\tcountry: userInfo.country,\r\n\t\t\t\t\t\t\tprovince: userInfo.province,\r\n\t\t\t\t\t\t\tcity: userInfo.city\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tif (res.result.code === 0) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '登录成功',\r\n\t\t\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.error('保存用户信息失败', res.result);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tconsole.error('调用云函数失败', err);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\tbutton {\r\n\t\tbackground-color: #007aff;\r\n\t\tcolor: #ffffff;\r\n\t}\r\n</style>\r\n","import MiniProgramPage from 'D:/pfh/git/----/pages/API/login/login.vue'\nwx.createPage(MiniProgramPage)"],"names":["mapState","uni","mapMutations","mapActions","res","uniCloud"],"mappings":"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"}